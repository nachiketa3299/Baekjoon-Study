# 문제 
기차가 어둠을 헤치고 은하수를 

# 시간 
36m

# 소스코드

```python


import sys
from collections import deque, defaultdict
input = sys.stdin.readline
N, M = map(int, input().split())

gicha = [[0]*20 for i in range(N)]
inputs=[]
for _ in range(M):
    inputs.append(list(map(int, input().split())))

for xis in inputs:
    m = xis[0]
    if m == 1:
        i, x = xis[1], xis[2]
        if not gicha[i-1][x-1]:
            gicha[i-1][x-1] = 1
    elif m == 2:
        i, x = xis[1], xis[2]
        if gicha[i-1][x-1]:
            gicha[i-1][x-1] = 0
    elif m == 3:
        i = xis[1]
        tmp = deque(gicha[i-1]); tmp.rotate(1); tmp[0]=0
        gicha[i-1] = list(tmp)
    else:
        i = xis[1]
        tmp = deque(gicha[i-1]); tmp.rotate(-1); tmp[19]=0
        gicha[i-1] = list(tmp)

dic = defaultdict(int)
for line in gicha:
    dic[tuple(line)] +=1

print(len(dic))

```
# 풀이

- 데크를 이용하여 문제를 풀었다. 주어진 조건을 그대로 서술한다. 입력값의 범위를 주의한다. 

# 기록
- 입력값 범위가 1부터 시작하는 것 때문에 에러가 있었다. 또한 이거때문에 배열의 크기를 늘려서 tmp[-1] 부분때문에 에러가 나는 것을 디버깅하기 어려웠다. 
- 문제 정리 후, 비트마스킹을 의도한 문제로 보여 비트마스킹을 정리할겸 재풀이 예정이다.


