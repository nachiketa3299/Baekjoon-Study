# 2022-08-29

# 백준 14499 주사위 굴리기

# 35 분

# 코드 - 파이썬

```python

from collections import defaultdict, deque

# 지도의 세로 크기 N, 가로 크기 M , 처음에 주사위를 놓은 곳의 좌표 y, x(0 ≤ y ≤ N-1, 0 ≤ x ≤ M-1), 명령의 개수 K
n, m, y, x , k = map(int,input().split())

g = [[*map(int, input().split())] for _ in range(n)] # 최초 지도의 값들
com = [*map(int, input().split())] # 명령 저

dir = [(0,1), (0,-1), (-1,0), (1,0)] # 동 0, 서 1, 북 2, 남 3
rev = [[3,1,0,5,4,2], [2,1,5,0,4,3], [4,0,2,3,5,1], [1,5,2,3,0,4] ] # 첨부 이미지와 함께 읽을 시 이해가 잘 됨
# rev[0][5] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 윗면이었던 면이 위치하게될 면의 인덱스를 의미함
# rev[1][5] 은 "서"쪽으로 주사위가 굴러갔을때, 본래 윗면이었던 면이 위치하게될 면의 인덱스를 의미함
# rev[2][5] 은 "북"쪽으로 주사위가 굴러갔을때, 본래 윗면이었던 면이 위치하게될 면의 인덱스를 의미함
# rev[3][5] 은 "남"쪽으로 주사위가 굴러갔을때, 본래 윗면이었던 면이 위치하게될 면의 인덱스를 의미함

# rev[0][0] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 바닥면이었던 면이 위치하게될 면의 인덱스를 값으로 저장하고 있음
# rev[0][1] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 북쪽 옆 면이었던 면이 위치하게될 면의 인덱스를 값으로 저장하고 있음
# rev[0][2] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 동쪽 옆 면이었던 면이 위치하게될 면의 인덱스를 값으로 저장하고 있음
# rev[0][3] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 서쪽 옆 면이었던 면이 위치하게될 면의 인덱스를 값으로 저장하고 있음
# rev[0][4] 은 "동"쪽으로 주사위가 굴러갔을때, 본래 남쪽 옆 면이었던 면이 위치하게될 면의 인덱스를 값으로 저장하고 있음

dice = [0]*6
                # 주사위 : 0번 인덱스가 바닥면, 1번 인덱스가 북쪽 옆면, 2번 인덱스가 동쪽 옆면, 3번 인덱스가 서쪽면
                #        4번 인덱스가 남쪽면, 5번 인덱스가 주사위 윗면의 값을 의미함

for c in com:
    c -= 1      # 명령 : 동 0, 서 1, 북 2, 남 3

    ny,nx = y+dir[c][0],x+dir[c][1]              # 해당 명령에 따라 이동했을 때 바닥면이 있게 되는 좌표
    if ny<0 or nx<0 or ny>=n or nx>=m: continue  #지도 밖으로 나가는 명령이어서 무시함

    d2 = dice.copy()    #주사위 굴리기
    for i in range(6) : dice[i] = d2[rev[c][i]]
                        # 주사위를 특정 방향으로 굴려줌으로써 "방향에 따라" 바닥면이 특정 방향의 다른 면으로 "일정하게" 위치하게 됨.
                        # 이동 뱡향에 따라 특정한 방향의 다른 면으로 "일정하게" 위치하게 되기 때문에 이동하게 면의 인덱스를 rev로 저장해서 활용 - 첨부 이미지 참고

    y,x = ny, nx
    if g[ny][nx] == 0 : g[ny][nx] = dice[0]         # 이동한 칸에 쓰여 있는 수가 0인 경우, 주사위의 바닥면에 쓰여 있는 수가 칸에 복사
    else:   # 이동한 칸에 쓰여 있는 수가 0이 아닌 경우
        dice[0] = g[ny][nx]         # 칸에 쓰여 있는 수가 주사위의 바닥면으로 복사되며,
        g[ny][nx] = 0               # 칸에 쓰여 있는 수는 0이 된다.

    print(dice[5]) # 주사위 윗면 출력




```

# 풀이

SIMULATION
핵심 포인트 - command 방향에 따라 주사위 굴리기를 어떻게 구현할 것인가
"특정 방향"으로 주사위를 굴림에 따라 본래 주사위의 면의 위치가 "일정한 방향의 위치"로 이동하게 됨.
이러한 일련의 규칙에 따라 array를 구성하여, 면 위치가 달라질 때마다 주사위 면의 값을 바꿔주면 됨.

첨부한 이미지를 참고하면 더 쉽게 이해할 수 있어요!
