# 소스코드 (실패, 시간초과)
```python
from sys import stdin
input = stdin.readline

N, M, D, E = map(int, input().split())
hs = [0] + list(map(int, input().split()))
rs = [[] for _ in range(N+1)]
dist = {}
for _ in range(M):
    a, b, n = map(int, input().split())
    rs[a].append(b)
    rs[b].append(a)
    dist[(a, b)] = n
    dist[(b, a)] = n

ans = []
def go(now, up, piro, achieve):
    if now == N:
        ans.append(achieve-piro)
        return
    for next in rs[now]:
        # 올라가는 상태에서 계속 올라감
        # up==0 이면 올라가지 못함
        if hs[now] < hs[next] and up==1:
            go(next, 1, piro+dist[(now, next)]*D, hs[next]*E)
        # 하산
        elif hs[now] > hs[next]:
            go(next, 0, piro+dist[(now, next)]*D, achieve)
go(1, 1, 0, 0)

if not ans:
    print('Impossible')
else:
    print(max(ans))
```